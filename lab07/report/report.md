---
## Front matter
title: "Лабораторная работа № 7"
subtitle: "Командная оболочка Midnight Commander"
author: "Смирнов Дмитрий Романович"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russia
babel-otherlangs: english
## Fonts
mainfont: PT Serif
romanfont: PT Serif
sansfont: PT Sans
monofont: PT Mono
mainfontoptions: Ligatures=TeX
romanfontoptions: Ligatures=TeX
sansfontoptions: Ligatures=TeX,Scale=MatchLowercase
monofontoptions: Scale=MatchLowercase,Scale=0.9
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

Освоение основных возможностей командной оболочки Midnight Commander. Приобретение навыков практической работы по просмотру каталогов и файлов; манипуляций с ними 

# Выполнение лабораторной работы

Изучу информацию о mc, вызвав в командной строке man mc.

![man mc](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-31-35.png){#fig:001 width=70%}

Запущу из командной строки mc, изучу его структуру и меню.

![mc](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-14-06.png){#fig:002 width=70%}

Выполню несколько операций в mc, используя управляющие клавиши

![Копирование](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-18-27.png){#fig:003 width=70%}

Выполню основные команды меню левой панели.

![Список файлов](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-46-37.png){#fig:004 width=70%}
![Быстрый просмотр](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-46-51.png){#fig:005 width=70%}
![Информация](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-46-59.png){#fig:006 width=70%}
![Дерево](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-47-09.png){#fig:007 width=70%}

Используя возможности подменю Файл, выполню:

![просмотр текстового файла](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-14-51.png){#fig:008 width=70%}
![редактирование текстового файла](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-15-53.png){#fig:009 width=70%}
![создание каталога и копирование файла в него](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-14-06.png){#fig:010 width=70%}

С помощью соответствующих средств подменю Команда осуществлю:

![поиск в файловой системе файла с заданными условиями](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-16-50.png){#fig:011 width=70%}

Переход в домашний каталог можно сделать с помощью "каталога быстрого перехода"

![переход в домашний каталог](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 16-28-03.png){#fig:012 width=70%}
![анализ файла меню](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-22-40.png){#fig:013 width=70%}
![анализ файла расширений](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-23-09.png){#fig:014 width=70%}

# Задание по встроенному редактору mc

Создам текстовой файл text.txt.

![text.txt](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 16-36-26.png){#fig:015 width=70%}

Открою этот файл с помощью встроенного в mc редактора.

![text.txt](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 16-39-27.png){#fig:016 width=70%}

Вставлю текст

![текст в text.txt](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 16-39-05.png){#fig:017 width=70%}

Удалю строку текста.

![манипуляции с текстом](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 14-35-19.png){#fig:018 width=70%}

Выделю фрагмент текста и скопируйте его на новую строку. Выделю фрагмент текста и перенесите его на новую строку.

![манипуляции с текстом](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-00-57.png){#fig:019 width=70%}

Сохраню файл
Переход в конец и в начало файла выполняется с помощью комбинаций ctrl+end и  ctrl+home соответственно. Выполнить данное задание я не могу из-за отсутствия данных клавиш на клавиатуре моего ноутбука.

Используя меню редактора, включу подсветку синтаксиса
![подсветка синтаксиса](/home/dsmirnov/work/study/2022-2023/Операционные системы/os-intro/labs/lab07/report/image/Снимок экрана от 2023-03-25 15-01-12.png){#fig:020 width=70%}

# Выводы

Я освоил основные возможности командной оболочки Midnight Commander. Приобрел навыки практической работы по просмотру каталогов и файлов, а также манипуляций с ними.

# Контрольные вопросы

1. Какие режимы работы есть в mc. Охарактеризуйте их.
Режим "Информация". В этом режиме на панель выводится информация о подсвеченном в другой панели файле и о текущей файловой системе (тип, свободное пространство и число свободных индексных дескрипторов — inode).
Режим "Дерево". В режиме отображения дерева каталогов в одной из панелей выводится графическое изображение структуры дерева каталогов . Этот режим подобен тому, который вы увидите, выбрав команду Дерево каталогов из меню Команды, только в последнем случае изображение структуры каталогов выводится в отдельное окно.
Режим "Быстрый просмотр" ("Quick View"). В этом режиме панель переключается на отображение содержимого файла, подсвеченного в другой панели. 
Режимы "Сетевое соединение" и "FTP-соединение". Эти два режима используются для отображения списка каталогов, располагающихся на удаленных компьютерах. В остальном формат вывода информации аналогичен форматам, используемым для отображения локальных каталогов.

2. Какие операции с файлами можно выполнить как с помощью команд shell, так и с помощью меню (комбинаций клавиш) mc? Приведите несколько примеров.
Можно выполнить: Системная информация, Поиск, Копирование

3. Опишите структура меню левой (или правой) панели mc, дайте характеристику командам.
Список файлов показывает файлы в домашнем каталоге
Быстрый просмотр позволяет выполнить быстрый просмотр содержимого панели
Информация позволяет посмотреть информацию о файле или каталоге
Можно выбрать формат списка: Стандартный (Full), Укороченный (Brief), Расширенный (Long) и Определяемый пользователем (User)
Порядок сортировки позволяет задать критерий сортировки при выводе списка файлов и каталогов: по имени; по расширению; по размеру файла; по времени модификации; по времени последнего обращения к файлу; по номеру узла (inode); без сортировки.

4. Опишите структура меню Файл mc, дайте характеристику командам.
<F3> - Просмотр файла, на который указывает подсветка в активной панели
<F4> - Вызов встроенного редактора для файла, на который указывает подсветка в активной панели
<F5> - Копирование файла или группы отмеченных файлов из каталога, отображаемого в активной панели, в каталог, отображаемый на второй панели. При копировании одного файла можно поменять его имя. Можно также указать имя каталога, куда будет производиться копирование (если надо скопировать в каталог, отличный от каталога, отображаемого во второй панели)
<F6> - Перенос файла или группы отмеченных файлов из каталога, отображаемого в активной панели, в каталог, отображаемый на второй панели. Как и при копировании, можно поменять имя файла или целевого каталога.
<F7> - Создание подкаталога в каталоге, отображаемом в активной панели
<F8> - Удаление файла (подкаталога) или группы отмеченных файлов
<F9> - Вызов основного меню программы (отображаемого над панелями)
<F10> - Выход из программы
Права доступа (<Ctrl>+<X>,<C>). Позволяет изменить права доступа к выделенному или помеченным файлам.
Владелец/группа (<Ctrl>+<X>,<O>). Позволяет выполнить команду chown.
Права (расширенные). Позволяет изменить права доступа и владения файлом.
Жесткая ссылка (<Ctrl>+<X>,<L>). Создает жесткую ссылку на текущий файл.
Символическая ссылка (<Ctrl>+<X>,<S>). Создает символическую ссылку на текущий файл. О ссылках мы подробно говорили в разд. 4.4. Программа Midnight Commander указывает символические ссылки, выводя знак "@" перед именем такой ссылки (кроме ссылок на подкаталоги, которые обозначаются знаком тильды "~"). Если на экран выводится строка мини-статуса (опция "Показывать мини-статус" включена), то в ней отображается имя того файла, на который указывает ссылка.
Быстрая смена каталога (<Alt>+<C>). Используйте эту команду, если вы знаете полный путь к каталогу, в который хотите перейти (который хотите сделать текущим).
Просмотр вывода команды (<Alt>+<!>). По этой команде на экране появляется строка ввода, в которой вы можете ввести любую команду с параметрами (по умолчанию предлагается использовать в качестве параметра имя подсвеченного файла). Вывод этой команды будет отображаться на экране через встроенную программу просмотра.

5. Опишите структура меню Команда mc, дайте характеристику командам.
Подпункты меню Команда mc:
Дерево каталогов отображает структуру каталогов системы
Поиск файла выполняет поиск файла по заданным параметрам
Переставить панели меняет местами Левую и Правую панели
Сравнить каталоги сравнивает содержимое двух каталогов
Размеры каталогов отображает размер и время изменения каталога
История командной строки выводит на экран список ранее выполняемых в оболочке команд
Каталоги быстрого доступа при вызове выполняется быстрая смена текущего каталога на один из заданного списка
Восстановление файлов позволяет восстановить файлы на файловых системах ext2 и ext3
Редактировать файл расширений позволяет задать с помощью определенного синтаксиса действия при запуске файлов с определенным расширением
Редактировать файл меню позволяет отредактировать контекстное меню пользователя
Редактировать файл расцветки имен позволяет подобрать оптимальную для пользователя расцветку имен файлов в зависимости от их типов.

6. Опишите структура меню Настройки mc, дайте характеристику командам.
Подпункты меню Настройки mc:
Конфигурация позволяет скорректировать настройки работы с панелями
Внешний вид и Настройки панелей определяет элементы, отображаемые при вызове mc, а также цветовое выделение
Биты символа задает формат обработки информации локальным терминалом
Подтверждение позволяет установить или убрать вывод окна с запросом подтверждения действий при операциях удаления и перезаписи файлов, а также при выходе из программы
Распознавание клавиш диалоговое окно используется для тестирования функциональных клавиш, клавиш управления курсором и прочее
Виртуальные файловые системы настройки виртуальной файловой системы: тайм-аут, пароль и прочее

7. Назовите и дайте характеристику встроенным командам mc.
Встроенные команды mc:
<F1> - Вызывает контекстно-зависимую подсказку
<F2> - Вызывает меню, создаваемое пользователем
<F3> - Просмотров файла, на который указывает подсветка в активной панели
<F4> - Вызов встроенного редактора для файла, на который указывает подсветка в активной панели
<F5> - Копирование файла или группы отмеченных файлов из каталога, отображаемого в активной панели, в каталог, отображаемый на второй панели. При копировании одного файла можно поменять его имя. Можно также указать имя каталога, куда будет производиться копирование (если надо скопировать в каталог, отличный от каталога, отображаемого во второй панели)
<F6> - Перенос файла или группы отмеченных файлов из каталога, отображаемого в активной панели, в каталог, отображаемый на второй панели. Как и при копировании, можно поменять имя файла или целевого каталога.
<F7> - Создание подкаталога в каталоге, отображаемом в активной панели
<F8> - Удаление файла (подкаталога) или группы отмеченных файлов
<F9> - Вызов основного меню программы (отображаемого над панелями)
<F10> - Выход из программы

8. Назовите и дайте характеристику командам встроенного редактора mc.
Команды встроенного редактора mc:
Ctrl+y удалить строку 
Ctrl+u отмена последней операции
Ins вставка/замена
F7+Shift повтор последней операции поиска
F2 записать изменения в файл
F3 первое нажатие начало выделения, а второе конец 
F4 замена файла
F5 копировать выделенный фрагмент
F6 переместить выделенный фрагмент
F7 поиск
F8 удалить выделенный фрагмент
F10 выйти из редактора

9. Дайте характеристику средствам mc, которые позволяют создавать меню, определяемые пользователем.
Один из форматов списка в mc – пользовательский, определенный самим пользователем позволяет ему редактировать меню любого из двух списков. Меню пользователя – это меню, состоящее из команд, определенных пользователем. 

10. Дайте характеристику средствам mc, которые позволяют выполнять действия, определяемые пользователем, над текущим файлом.
C-l Обновляет всю информацию, отображаемую программой Midnight Commander.
C-x c Запускает команду Chmod для подсвеченного файла или группы отмеченных файлов.
C-x o Запускает команду Chown для подсвеченного файла или группы отмеченных файлов.
C-x l Запускает команду создания жесткой ссылки.
C-x s Запускает команду создания абсолютной символической ссылки.
C-x v Запускает команду создания относительной символической ссылки. 
C-x i Переводит пассивную панель в режим "Информация".
C-x q Переводит пассивную панель в режим быстрого просмотра.
C-x ! Выполняется пункт меню "Критерий панелизации".
C-x h Добавить имя каталога в "Каталоги быстрого доступа".
M-! Выполняет пункт меню "Просмотр вывода команды"
M-? Вызов диалогового окна "Поиск файла".
M-c Вызов диалогового окна "Быстрая смена каталога".

::: {#refs}
:::
